
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>emulisp-console</title>
    <script src="emulisp_core.js" type="text/javascript"></script>
    <script src="emulisp_js.js" type="text/javascript"></script>
    <script src="emulisp_cv.js" type="text/javascript"></script>
    <script type="text/javascript">
var e = EMULISP_CORE.eval;  // shorthand for use in Console

function evalSrc() {
    console.log("-> %s", EMULISP_CORE.eval(document.getElementById("src").value));
}

function clearCanvas(cv) {
    if (cv && cv.getContext) {
        cv.width = cv.width;        // resetting the canvas
        cv.getContext("2d").clearRect(0, 0, cv.width, cv.height);
    }
}
    </script>
    <style type="text/css">
* {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
textarea#src {
    width: 50em;
    padding-left: 6px;
    font: 15px dejavu sans mono, monospace;
    -moz-tab-size: 3;
    tab-size: 3;
    margin-bottom: 0;
}
canvas {
    border: 1px solid gray;
}
input#dummy {
    margin-left: 10em;
}
    </style>
</head>
<body>
<textarea id="src" rows="16">
(de fibo (N)
    (if (>= 2 N)
        1
        (+ (fibo (dec N)) (fibo (- N 2))) ) )

#(bench (fibo 30))
#(js:alert "Hello")

(cv:setctx2d "testCanvas")
(cv:font "18px sans-serif")
(cv:fillText "Hello Lisper!" 50 40)
(cv:strokeStyle "#6060f0")
(cv:beginPath)
(cv:arc 150 150 100 0 3.14 T)
(cv:closePath)
(cv:stroke)
</textarea>
<canvas id="testCanvas" width="300" height="300" onClick="clearCanvas(this);"></canvas>
<p>
    <input type="button" value="Evaluate" onClick="evalSrc();" /> (see console)
    <input type="button" value="Dummy" id="dummy" />
</p>
</body>
</html>
